// Generated by ReScript, PLEASE EDIT WITH CARE


function groupPeopleGivenGroupSize(groupSizes) {
  var _grouped = [];
  var sizeTable = new Map();
  var _index = 0;
  while(true) {
    var index = _index;
    var grouped = _grouped;
    if (index === groupSizes.length) {
      return Array.from(sizeTable.values()).concat(grouped);
    }
    var s = groupSizes.at(index);
    var groupSize = s !== undefined ? s : 0;
    var g = sizeTable.get(groupSize);
    var group = g !== undefined ? g : [];
    if (group.length >= 3) {
      sizeTable.set(groupSize, [index]);
      _index = index + 1 | 0;
      _grouped = grouped.concat([group]);
      continue ;
    }
    sizeTable.set(groupSize, group.concat([index]));
    _index = index + 1 | 0;
    continue ;
  };
}

var g1 = [
  3,
  3,
  3,
  3,
  3,
  1,
  3
];

var r1 = groupPeopleGivenGroupSize(g1);

console.log("r1: ", r1);

var g2 = [
  2,
  1,
  3,
  3,
  3,
  2
];

var r2 = groupPeopleGivenGroupSize(g2);

console.log("r2: ", r2);

export {
  groupPeopleGivenGroupSize ,
  g1 ,
  r1 ,
  g2 ,
  r2 ,
}
/* r1 Not a pure module */
