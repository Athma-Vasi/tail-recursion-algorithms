// Generated by ReScript, PLEASE EDIT WITH CARE


function numberOfStudentsUnableToEatLunch(students, sandwiches) {
  var countPreferences = function (_prefersZeroesCount, _prefersOnesCount, _index) {
    while(true) {
      var index = _index;
      var prefersOnesCount = _prefersOnesCount;
      var prefersZeroesCount = _prefersZeroesCount;
      var n = students.at(index);
      var preference = n !== undefined ? n : -1;
      if (index === students.length) {
        return [
                prefersZeroesCount,
                prefersOnesCount
              ];
      }
      if (preference === 0) {
        _index = index + 1 | 0;
        _prefersZeroesCount = prefersZeroesCount + 1 | 0;
        continue ;
      }
      _index = index + 1 | 0;
      _prefersOnesCount = prefersOnesCount + 1 | 0;
      continue ;
    };
  };
  var match = countPreferences(0, 0, 0);
  var _students = students;
  var _sandwiches = sandwiches;
  var _prefersZeroesCount = match[0];
  var _prefersOnesCount = match[1];
  while(true) {
    var prefersOnesCount = _prefersOnesCount;
    var prefersZeroesCount = _prefersZeroesCount;
    var sandwiches$1 = _sandwiches;
    var students$1 = _students;
    var studentsLength = students$1.length;
    var sandwichesLength = sandwiches$1.length;
    if (sandwichesLength === 0 || studentsLength === 0) {
      return studentsLength;
    }
    var p = students$1.at(0);
    var preference = p !== undefined ? p : -1;
    var s = sandwiches$1.at(0);
    var sandwich = s !== undefined ? s : -1;
    if (preference < 0 || sandwich < 0) {
      return -1;
    }
    if (preference === 0 && sandwich === 0) {
      _prefersZeroesCount = prefersZeroesCount - 1 | 0;
      _sandwiches = sandwiches$1.slice(1, sandwichesLength);
      _students = students$1.slice(1, studentsLength);
      continue ;
    }
    if (preference === 1 && sandwich === 1) {
      _prefersOnesCount = prefersOnesCount - 1 | 0;
      _sandwiches = sandwiches$1.slice(1, sandwichesLength);
      _students = students$1.slice(1, studentsLength);
      continue ;
    }
    if (prefersZeroesCount === 0 || prefersOnesCount === 0) {
      return studentsLength;
    }
    _students = students$1.slice(1, studentsLength).concat([preference]);
    continue ;
  };
}

var s1 = [
  1,
  1,
  0,
  0
];

var s11 = [
  0,
  1,
  0,
  1
];

var r1 = numberOfStudentsUnableToEatLunch(s1, s11);

console.log("r1: ", r1);

var s2 = [
  1,
  1,
  1,
  0,
  0,
  1
];

var s22 = [
  1,
  0,
  0,
  0,
  1,
  1
];

var r2 = numberOfStudentsUnableToEatLunch(s2, s22);

console.log("r2: ", r2);

export {
  numberOfStudentsUnableToEatLunch ,
  s1 ,
  s11 ,
  r1 ,
  s2 ,
  s22 ,
  r2 ,
}
/* r1 Not a pure module */
