// Generated by ReScript, PLEASE EDIT WITH CARE


function countSubstringsThatSatisfyKConstraint_I(str, k) {
  var firstChar = str.charAt(0);
  var _result = 0;
  var _zeroesCount = firstChar === "0" ? 1 : 0;
  var _onesCount = firstChar === "1" ? 1 : 0;
  var _leftIndex = 0;
  var _rightIndex = 1;
  while(true) {
    var rightIndex = _rightIndex;
    var leftIndex = _leftIndex;
    var onesCount = _onesCount;
    var zeroesCount = _zeroesCount;
    var result = _result;
    if (rightIndex === str.length) {
      return result;
    }
    if (leftIndex === rightIndex) {
      _rightIndex = rightIndex + 1 | 0;
      continue ;
    }
    if (zeroesCount > k && onesCount > k) {
      var leftChar = str.charAt(leftIndex);
      _leftIndex = leftIndex + 1 | 0;
      _onesCount = leftChar === "1" ? onesCount - 1 | 0 : onesCount;
      _zeroesCount = leftChar === "0" ? zeroesCount - 1 | 0 : zeroesCount;
      _result = result + ((rightIndex - leftIndex | 0) + 1 | 0) | 0;
      continue ;
    }
    var rightChar = str.charAt(rightIndex);
    _rightIndex = rightIndex + 1 | 0;
    _onesCount = rightChar === "1" ? onesCount + 1 | 0 : onesCount;
    _zeroesCount = rightChar === "0" ? zeroesCount + 1 | 0 : zeroesCount;
    continue ;
  };
}

var s1 = "10101";

var r1 = countSubstringsThatSatisfyKConstraint_I(s1, 1);

console.log("r1: ", r1);

var k1 = 1;

export {
  countSubstringsThatSatisfyKConstraint_I ,
  s1 ,
  k1 ,
  r1 ,
}
/* r1 Not a pure module */
