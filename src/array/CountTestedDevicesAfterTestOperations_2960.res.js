// Generated by ReScript, PLEASE EDIT WITH CARE


function countTestedDevicesAfterTestOperations(batteryPercentages) {
  var _count = 0;
  var _devices = batteryPercentages;
  while(true) {
    var devices = _devices;
    var count = _count;
    var length = devices.length;
    if (length === 0) {
      return count;
    }
    var bp = devices.at(0);
    var batteryPercentage = bp !== undefined ? bp : -1;
    var sliced = devices.slice(1, length);
    if (batteryPercentage > 0) {
      _devices = sliced.map(function (device) {
            if ((device - 1 | 0) < 0) {
              return 0;
            } else {
              return device - 1 | 0;
            }
          });
      _count = count + 1 | 0;
      continue ;
    }
    _devices = sliced;
    continue ;
  };
}

var bp1 = [
  1,
  1,
  2,
  1,
  3
];

var r1 = countTestedDevicesAfterTestOperations(bp1);

console.log("r1: ", r1);

var bp2 = [
  0,
  1,
  2
];

var r2 = countTestedDevicesAfterTestOperations(bp2);

console.log("r2: ", r2);

export {
  countTestedDevicesAfterTestOperations ,
  bp1 ,
  r1 ,
  bp2 ,
  r2 ,
}
/* r1 Not a pure module */
