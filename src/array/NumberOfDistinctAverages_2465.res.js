// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Core__Array from "@rescript/core/src/Core__Array.res.js";

function numberOfDistinctAverages(nums) {
  var distict = new Set();
  var _modified = nums;
  while(true) {
    var modified = _modified;
    if (modified.length === 0) {
      return distict.size;
    }
    var match = Core__Array.reduceWithIndex(modified, [
          101,
          -1
        ], (function (acc, num, idx) {
            var min = acc[0];
            if (num < min) {
              return [
                      num,
                      idx
                    ];
            } else {
              return [
                      min,
                      acc[1]
                    ];
            }
          }));
    var minIdx = match[1];
    var match$1 = Core__Array.reduceWithIndex(modified, [
          0,
          -1
        ], (function (acc, num, idx) {
            var max = acc[0];
            if (num > max) {
              return [
                      num,
                      idx
                    ];
            } else {
              return [
                      max,
                      acc[1]
                    ];
            }
          }));
    var maxIdx = match$1[1];
    var filtered = modified.map((function(minIdx,maxIdx){
          return function (num, idx) {
            if (idx !== minIdx && idx !== maxIdx) {
              return num;
            } else {
              return -1;
            }
          }
          }(minIdx,maxIdx))).filter(function (num) {
          return num > 0;
        });
    var avg = (match[0] + match$1[0]) / 2.0;
    distict.add(avg);
    _modified = filtered;
    continue ;
  };
}

var n1 = [
  4,
  1,
  4,
  0,
  3,
  5
];

var r1 = numberOfDistinctAverages(n1);

console.log("r1: ", r1);

var n2 = [
  1,
  100
];

var r2 = numberOfDistinctAverages(n2);

console.log("r2: ", r2);

export {
  numberOfDistinctAverages ,
  n1 ,
  r1 ,
  n2 ,
  r2 ,
}
/* r1 Not a pure module */
