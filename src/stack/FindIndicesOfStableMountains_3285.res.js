// Generated by ReScript, PLEASE EDIT WITH CARE


function findIndicesOfStableMountains(heights, threshold) {
  var _stableMountains = [];
  var _stack = [];
  var _index = 0;
  while(true) {
    var index = _index;
    var stack = _stack;
    var stableMountains = _stableMountains;
    if (index === heights.length) {
      return stableMountains;
    }
    var h = heights.at(index);
    var currHeight = h !== undefined ? h : -1;
    var h$1 = stack.at(-1);
    var prevHeight = h$1 !== undefined ? h$1 : -1;
    var updatedStack = stack.concat([currHeight]);
    if (prevHeight < 0) {
      _index = index + 1 | 0;
      _stack = updatedStack;
      continue ;
    }
    if (prevHeight > threshold) {
      _index = index + 1 | 0;
      _stack = updatedStack;
      _stableMountains = stableMountains.concat([index]);
      continue ;
    }
    _index = index + 1 | 0;
    _stack = updatedStack;
    continue ;
  };
}

var n1 = [
  1,
  2,
  3,
  4,
  5
];

var r1 = findIndicesOfStableMountains(n1, 2);

console.log("r1: ", r1);

var n2 = [
  10,
  1,
  10,
  1,
  10
];

var r2 = findIndicesOfStableMountains(n2, 3);

console.log("r2: ", r2);

var n3 = [
  10,
  1,
  10,
  1,
  10
];

var r3 = findIndicesOfStableMountains(n3, 10);

console.log("r3: ", r3);

var t1 = 2;

var t2 = 3;

var t3 = 10;

export {
  findIndicesOfStableMountains ,
  n1 ,
  t1 ,
  r1 ,
  n2 ,
  t2 ,
  r2 ,
  n3 ,
  t3 ,
  r3 ,
}
/* r1 Not a pure module */
