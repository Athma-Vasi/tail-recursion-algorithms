// Generated by ReScript, PLEASE EDIT WITH CARE


function findThePeaks(mountain) {
  var _indexes = [];
  var _stack = [];
  var _index = 0;
  while(true) {
    var index = _index;
    var stack = _stack;
    var indexes = _indexes;
    if (index === mountain.length) {
      return indexes;
    }
    var p = mountain.at(index);
    var currPeak = p !== undefined ? p : 0;
    var p$1 = stack.at(-1);
    var prevPeak = p$1 !== undefined ? p$1 : 0;
    var p$2 = stack.at(-2);
    var prevPrevPeak = p$2 !== undefined ? p$2 : 0;
    var updatedStack = stack.concat([currPeak]);
    if (prevPeak > prevPrevPeak && prevPeak > currPeak) {
      _index = index + 1 | 0;
      _stack = updatedStack;
      _indexes = indexes.concat([index - 1 | 0]);
      continue ;
    }
    _index = index + 1 | 0;
    _stack = updatedStack;
    continue ;
  };
}

var m1 = [
  2,
  4,
  4
];

var r1 = findThePeaks(m1);

console.log("r1: ", r1);

var m2 = [
  1,
  4,
  3,
  8,
  5
];

var r2 = findThePeaks(m2);

console.log("r2: ", r2);

export {
  findThePeaks ,
  m1 ,
  r1 ,
  m2 ,
  r2 ,
}
/* r1 Not a pure module */
